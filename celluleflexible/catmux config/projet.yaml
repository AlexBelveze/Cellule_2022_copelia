---
common:
  # before_commands will be executed in each pane before doing anything else. Use this e.g. for
  #   - sourcing an environment
  #   - ssh-ing to another machine
  before_commands:
    - echo "Launching project" # before commands can be specified global and per window
    - cd ~/Bureau/Cellule_2022_copelia/celluleflexible/ros_ws
    - source devel/setup.bash

  # The default window will be the one displayed when first connecting to the tmux session
  default_window: some_other_window
parameters:
  # Parameters specified here can be used below and they can be overwritten at runtime
  show_layouts: false # This parameter is used together with the if flag below
  replacement_param: world\! # Parameters can also be used as replacement templates

# Everything will be opened in windows. Windows can have multiple splits.
windows:
  - name: roscore
    unless: show_layouts # This window will only be displayed if 'show_layouts' is false
    commands:
      - roscore
  - name: commande
    unless: show_layouts
    layout: even-vertical
    splits:
      - commands:
        - sleep 2
        - rosrun commande_locale simulation "4"
      - commands:
        - sleep 15
        - rosrun commande run "4"
      - commands:
        - echo "Terminal vierge"
  - name: robots_copelia
    unless: show_layouts # This window will only be displayed if 'show_layouts' is false
    # if: show_layouts # this window will only be started when the 'show_layouts' parameter is true
    layout: tiled # One can use the default layouts specified by tmux
    splits:
      - commands:
        - sleep 15
        - rosrun robots robot "1"
      - commands:
         - sleep 15
         - rosrun robots robot "2"
      - commands:
         - sleep 15
         - rosrun robots robot "3"
      - commands:
         - sleep 15
         - rosrun robots robot "4"
  - name: aiguillages_log_shuttle
    unless: show_layouts # This window will only be displayed if 'show_layouts' is false
    layout: tiled
    splits:
      - commands:
        - sleep 15
        - rosrun aiguillages run_Aiguillage
      - commands:
        - sleep 15
        - rosrun shuttles main_ShuttleManager 
      - commands:
        - sleep 15
        - rosrun commande_locale log_manager
      # - commands:
      #   - sleep 15
      #   - rosrun hc10_ros main_yakuza
  # - name: top-bottom
  #   if: show_layouts
  #   layout: even-vertical
  #   splits:
  #     - commands:
  #       - echo "top"
  #     - commands:
  #       - echo "bottom"
#   - name: no_split
#     unless: show_layouts # This window will only be displayed if 'show_layouts' is false
#     # If just one split is desired, just skip it and write the commands directly
#     commands:
#       - echo "hello ${replacement_param}"
#     delay: 1 # Use this to wait before starting the next window
#   - name: some_other_window
#     commands:
#       - rosrun commande_locale simulation "4"
      
#  #if: show_layouts # this window will only be started when the 'show_layouts' parameter is true
